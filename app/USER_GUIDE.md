# 抽奖助手用户操作手册

## 快速开始
- 打开开发服务器后访问 `http://localhost:5173/`。
- 在“奖品设置”中输入奖品名称与数量并添加。
- 在“参与者导入”中粘贴 CSV 或按行输入姓名后点击“导入参与者”。
- 在“抽奖主界面”选择奖品与抽奖模式，点击“开始抽奖”。

## 抽奖模式
- 单次抽奖：每次抽取 1 名参与者。
- 批量抽奖：一次抽取 N 名参与者，N 可配置且不可超过参与者总数。

## 历史记录
- 最近结果在“结果展示区”显示。
- 全量历史记录在“历史记录区”，可点击“导出 CSV”。

## 数据存储
- 应用在浏览器 `localStorage` 中持久化保存奖品、参与者与抽奖记录。
- 可随时清理浏览器站点数据以重置应用。

## 随机性与公平性
- 随机源：`crypto.getRandomValues`。
- 算法：Fisher–Yates 洗牌与安全随机抽取，确保等概率与不放回批量抽样。

## 手机扫码签到
- **局域网模式**：
  - 确保手机和电脑连接同一个 Wi-Fi。
  - 电脑端启动服务后，二维码默认使用电脑的局域网 IP（或 localhost）。
  - 如果默认生成的二维码是 localhost，请点击二维码下方的“设置签到地址”，输入 `http://<电脑局域网IP>:5173`。

- **公网模式（国内流量/非同一 Wi-Fi）**：
  - 需要使用内网穿透工具将本地服务暴露到公网。
  - 推荐使用 `localtunnel`。在终端运行：
    ```bash
    npx localtunnel --port 5173
    ```
  - 复制生成的 URL（例如 `https://xxxx.loca.lt`）。
  - 在网页上点击“设置签到地址”，粘贴该 URL。
  - 此时生成的二维码即可在任何网络下扫描访问。
  - 注意：`localtunnel` 生成的链接可能需要先在手机浏览器打开并点击确认按钮才能访问。

## 常见问题
- 空名单：导入后再开始抽奖；若批量数大于名单长度会自动截断。
- 重复导入：系统会按姓名去重；可在列表中删除个别条目。